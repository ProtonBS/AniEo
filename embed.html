<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <title>Ani.MoM VideoPlayer</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script defer data-domain="ani.mom" src="https://plausible.io/js/script.js"></script>
    <meta name="google-site-verification" content="-xMMXXGSnOzFmcbydWI4FOaV6MBf3oWDKanMpvCju94" />

    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>

    <style type="text/css">
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* Full-Width Logo Banner Styles */
        .logo-banner {
            position: fixed; /* Fixed position to keep it on top */
            top: 0; /* Align to the top */
            left: 0; /* Start at the left edge */
            width: 100%; /* Full width */
            white-space: nowrap; /* Prevents the logo from wrapping */
            overflow: hidden; /* Hides overflow */
            z-index: 20; /* Ensures it stays above other elements */
        }

        .logo-content {
            display: inline-block; /* Allows for inline-block styling */
            animation: flow 10s linear infinite; /* Animation for flowing effect */
            padding-left: 100%; /* Start off screen to the right */
        }

        @keyframes flow {
            0% {
                transform: translateX(0); /* Start at the left edge */
            }
            100% {
                transform: translateX(-100%); /* Move to the left edge */
            }
        }

        .logo {
            width: 250px; /* Increased size for the logo */
            height: auto;
            animation: glitch 1.5s infinite; /* Continuous glitch animation */
        }

        @keyframes glitch {
            0% { opacity: 1; transform: scale(1); }
            25% { opacity: 0.8; transform: scale(1.05); }
            50% { opacity: 0.6; transform: scale(1.1); }
            75% { opacity: 0.8; transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }
    </style>
</head>

<body>
    <div class="logo-banner">
        <div class="logo-content">
            <a href="https://www.google.com/search?q=ani.mom" target="_blank" aria-label="Ani.MoM">
                <img src="https://i.ibb.co/525YLHN/Ani-Mo-M-on-Google.png" alt="Logo" class="logo" />
            </a>
        </div>
    </div>

    <video id="my-video" class="video-js" controls preload="auto" width="640" height="264" data-setup='{}'>
        <source src="" type="application/x-mpegURL" />
        <p class="vjs-no-js">
            To view this video please enable JavaScript, and consider upgrading to a web browser that
            <a href="https://www.google.com/search?q=ani.mom" target="_blank">supports HTML5 video</a>
        </p>
    </video>

    <script>
        const params = new URLSearchParams(location.search);
        const source = params.get("url");
        const id = params.get("episode_id");

        document.addEventListener("DOMContentLoaded", () => {
            const video = document.getElementById('my-video');
            video.querySelector('source').src = source; // Set video source
            video.load(); // Load the new video source
            
            const player = videojs(video, {
                controls: true,
                autoplay: false,
                preload: 'auto',
                fluid: true,
                responsive: true,
                techOrder: ['html5', 'hls']
            });

            player.ready(() => {
                player.on('error', function() {
                    console.error('Error playing the video:', player.error());
                });
            });
        });
    </script>
</body>
</html>
